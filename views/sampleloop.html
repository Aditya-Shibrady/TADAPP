<!DOCTYPE html>
<html>
<body>
<center>
    <br>
    <br>
    <br>
    <table border="1" cellpadding="10">
        <tr>
            <th>Number of Customers</th>
            <th>Number of Matches</th>
            <th>Percentage Match</th>
        </tr>
        <tr>
            <td><center><div id="demos"></div></center></td>
            <td><center><div id="demosy"></div></center></td>
            <td><center><div id="demosr"></div></center></td>
        </tr>
    </table>
</center>
<br>
<br>
<br>
<div id="dem"></div>


<!--Number of Customers in sample set: <p id="demos"></p><br>-->
<!--Number of Customers Matched: <p id="demosy"></p><br>-->
<!--Percentage Match: <p id="demosr"></p> <br>-->

<script>
    var cars = ["aditya.shibrady@gmail.com", "aditya.shibrady@utdallas.edu"];
    var text = "";
    var i;
    var count=0;
    for (i = 0; i < cars.length; i++) {

        var xhr = new XMLHttpRequest();
        xhr.open("GET", "https://api.fullcontact.com/v2/person.json?apiKey=489844436624e479&email="+cars[i], false);
        xhr.send();
        if (xhr.status!=200){
            count++;
        }
        text += xhr.responseText + "<br>";
//        if (xhr.X-Rate-Limit-Remaining <= 3)
//        {
//            setTimeout(function(){ }, 5000);
//        }
        //console.log(xhr.status);
        //console.log(xhr.statusText);
        //console.log(xhr.responseText);
        //text += xhr.responseText + "<br>";
    }
    var tally = (cars.length) - (count);
    //document.getElementById("demo").innerHTML = text;
    document.getElementById("demos").innerHTML = cars.length;
    document.getElementById("demosy").innerHTML = tally;
    var per = (tally/(cars.length))*100;
    document.getElementById("demosr").innerHTML = per;
    document.getElementById("dem").innerHTML = text;


</script>

</body>
</html>
